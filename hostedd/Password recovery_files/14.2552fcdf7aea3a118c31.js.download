webpackJsonp([14,114,115,116,117],{141:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e(821),i=e(820),s=e(822),r=e(819);n.default={namespaced:!0,state:o.default,mutations:s.default,actions:r.default,getters:i.default}},819:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e(33),i=e.n(o),s=e(27),r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en";return function(){return t.get("/"+n+"/bonus/statistic/total/")}},a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en";return function(){return t.get("/"+n+"/vars/?keys[]=page_trading.discounts")}},u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en";return function(e){return t.get("/"+n+"/bonus/discount/list/?discounts="+e)}},c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en";return function(){return t.get("/"+n+"/bonus/client/status/list/")}},S=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en";return function(){return t.get("/"+n+"/vars/?keys[]=bonus.conversion_to_cash.is_visible")}},l=e(128);n.default={REQUEST_STATISTICS:function(t,n){var e=t.commit;return this.api.route(r,n)().then(l.a).then(function(t){t&&e("SET_STATISTICS",t)}).catch(this.pushError("REQUEST_STATISTICS"))},BONUS_CLIENT_STATUS:function(t,n){var e=t.commit;return this.api.route(c,n)().then(l.a).then(function(t){t&&e("SET_BONUS_CLIENT_STATUS",t)}).catch(this.pushError("BONUS_CLIENT_STATUS"))},REQUEST_TRADING_DISCOUNTS:function(t,n){var e=this,o=t.commit;return this.api.route(a,n)().then(l.a).then(function(t){if(!t||!t.vars["page_trading.discounts"])throw new Error("Discounts aliases not found");return e.api.route(u,n)(t.vars["page_trading.discounts"])}).then(l.a).then(function(t){if(!t)throw new Error("Trading discounts not found");o("SET_TRADING_DISCOUNTS",t)}).catch(this.pushError("REQUEST_TRADING_DISCOUNTS"))},REQUEST_CONVERSION_TO_CASH_VISIBILITY:function(t,n){var e=t.commit;return this.api.route(S,n)().then(function(t){i()(t.data.data).length>0&&e("SET_CONVERSION_TO_CASH_VISIBILITY",t.data.data.vars)}).catch(this.pushError("REQUEST_CONVERSION_TO_CASH_VISIBILITY"))}}},820:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={paidToClients:function(t){return t.statistics.conversionTotalSum+t.statistics.compensationTotalSum},totalBonuses:function(t){return t.statistics.discountTotalCount},webSocketUrl:function(t){return t.statistics.webSocketUrl},tradingDiscounts:function(t){return t.tradingDiscounts},bonusClientStatus:function(t){return t.bonusClientStatus}}},821:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){return{statistics:{compensationTotalSum:0,conversionTotalSum:0,discountTotalCount:0,webSocketUrl:""},tradingDiscounts:[],bonusClientStatus:[],isVisibleConversionToCash:!1}}},822:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e(33),i=e.n(o);n.default={SET_STATISTICS:function(t,n){var e="";if(n.subscriber&&n.subscriber.web_socket&&n.subscriber.web_socket.parts){var o=n.subscriber.web_socket.parts,i=o.scheme,s=o.port,r=o.path,a=o.query;e=i.replace("http","ws")+"://{domain}:"+s+r+a}t.statistics={compensationTotalSum:n.compensation_total_sum,conversionTotalSum:n.conversion_total_sum,discountTotalCount:n.discount_total_count,webSocketUrl:e}},SET_BONUS_CLIENT_STATUS:function(t,n){t.bonusClientStatus=i()(n).map(function(t){return{id:n[t].id,name:n[t].name,factor:n[t].factor,minBalance:n[t].minBalance,freeDepositDiscountFactor:n[t].freeDepositDiscountFactor,freeProDiscountFactor:n[t].freeProDiscountFactor,freeSpreadDiscountFactor:n[t].freeSpreadDiscountFactor}})},SET_TRADING_DISCOUNTS:function(t,n){t.tradingDiscounts=i()(n).map(function(t){return{alias:n[t].alias,text:n[t].name,value:n[t].maxPercent,pathName:"promo_bonus_alpari_cashback",hashParams:"#"+n[t].alias,unit:"%"}})},SET_CONVERSION_TO_CASH_VISIBILITY:function(t,n){t.isVisibleConversionToCash=Boolean(n["bonus.conversion_to_cash.is_visible"])}}}});